@startuml

' Définition des participants
participant "Com" as com
participant "Pilote Memoire" as MemoryDriver
participant "Memoire" as mem

' Début du diagramme BDI
title Fonctionnalités de mémoire

' Bloc d'initialisation
group Initialisation
    com -> MemoryDriver : Initialisation
    activate MemoryDriver
    MemoryDriver -> mem : Initialisation
    activate mem
    mem --> MemoryDriver : Confirmation
    deactivate mem
    MemoryDriver --> com : Confirmation
    deactivate MemoryDriver
end

' Bloc de Lecture de mémoire
group Lecture de mémoire
    com -> MemoryDriver : Demande de lecture
    activate MemoryDriver
    alt Mémoire disponible
        MemoryDriver -> MemoryDriver : PilMem_LectureMemoire(*Memoire, adresse)
        activate MemoryDriver
        MemoryDriver -> mem : Lecture mémoire
        activate mem
        mem --> MemoryDriver : Valeur lue
        deactivate mem
        MemoryDriver --> com : Transmet la valeur lue
        deactivate MemoryDriver
    else Mémoire indisponible
        MemoryDriver --> com : Erreur de lecture
        deactivate MemoryDriver
    end
end

' Bloc d'Ecriture en mémoire
group Ecriture en mémoire
    com -> MemoryDriver : Demande d'écriture
    activate MemoryDriver
    alt Mémoire disponible
        MemoryDriver -> MemoryDriver : PilMem_EcritureMemoire(*Memoire, adresse, valeur)
        activate MemoryDriver
        MemoryDriver -> mem : Ecriture mémoire
        activate mem
        mem --> MemoryDriver : Confirmation d'écriture
        deactivate mem
        MemoryDriver --> com : Transmet la confirmation
        deactivate MemoryDriver
    else Mémoire indisponible
        MemoryDriver --> com : Erreur d'écriture
        deactivate MemoryDriver
    end
end

' Bloc d'Effacement de mémoire
group Effacement de mémoire
    com -> MemoryDriver : Demande d'effacement
    activate MemoryDriver
    alt Mémoire disponible
        MemoryDriver -> MemoryDriver : PilMem_EffacementMemoire(*Memoire, adresse_debut, adresse_fin)
        activate MemoryDriver
        MemoryDriver -> mem : Effacement mémoire
        activate mem
        mem --> MemoryDriver : Confirmation d'effacement
        deactivate mem
        MemoryDriver --> com : Transmet la confirmation
        deactivate MemoryDriver
    else Mémoire indisponible
        MemoryDriver --> com : Erreur d'effacement
        deactivate MemoryDriver
    end
end

@enduml